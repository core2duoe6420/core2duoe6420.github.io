<!doctype html><html lang=en-us><head><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"BASH Concepts and Common Syntax","datePublished":"2017-09-30T00:00:00Z","dateModified":"2017-09-30T00:00:00Z","author":{"@type":"Person","name":"Alex King","image":"https://res.cloudinary.com/core2duoe6420/image/upload/v1643906248/DSC_5117_wviusa.jpg"},"mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.hljin.net\/en-us\/2017\/09\/bash-concept-and-syntax\/"},"publisher":{"@type":"Organization","name":"Alex King's blog","logo":{"@type":"ImageObject","url":"https://res.cloudinary.com/core2duoe6420/image/upload/v1643906248/DSC_5117_wviusa.jpg"}},"description":" This article is translated from Chinese to English by ChatGPT. There might be errors.\nThis article is a brief summary of the Bash Reference Manual.\n","keywords":[]}</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.111.3 with theme Tranquilpeak 0.5.3-BETA"><meta name=author content="Alex King"><meta name=keywords content><meta name=description content="
  This article is translated from Chinese to English by ChatGPT. There might be errors.

This article is a brief summary of the Bash Reference Manual."><meta property="og:description" content="
  This article is translated from Chinese to English by ChatGPT. There might be errors.

This article is a brief summary of the Bash Reference Manual."><meta property="og:type" content="article"><meta property="og:title" content="BASH Concepts and Common Syntax"><meta name=twitter:title content="BASH Concepts and Common Syntax"><meta property="og:url" content="https://blog.hljin.net/en-us/2017/09/bash-concept-and-syntax/"><meta property="twitter:url" content="https://blog.hljin.net/en-us/2017/09/bash-concept-and-syntax/"><meta property="og:site_name" content="Alex King's blog"><meta property="og:description" content="
  This article is translated from Chinese to English by ChatGPT. There might be errors.

This article is a brief summary of the Bash Reference Manual."><meta name=twitter:description content="
  This article is translated from Chinese to English by ChatGPT. There might be errors.

This article is a brief summary of the Bash Reference Manual."><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2017-09-30T00:00:00"><meta property="article:modified_time" content="2017-09-30T00:00:00"><meta property="article:tag" content="Shell"><meta name=twitter:card content="summary"><meta property="og:image" content="https://res.cloudinary.com/core2duoe6420/image/upload/v1643906248/DSC_5117_wviusa.jpg"><meta property="twitter:image" content="https://res.cloudinary.com/core2duoe6420/image/upload/v1643906248/DSC_5117_wviusa.jpg"><title>BASH Concepts and Common Syntax</title><link rel=icon href=https://blog.hljin.net/favicon.png><link rel=canonical href=https://blog.hljin.net/en-us/2017/09/bash-concept-and-syntax/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.css integrity="sha512-MLcK/YRapzET1qTBXrOiZE6bGBgtATMo2bIyalVJ8EKDEGNoeA3SPQkvWAR0zNS650YG13ocXBMeioDuZcSRuQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://blog.hljin.net/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css><link rel=stylesheet href=https://blog.hljin.net/css/override.css></head><body><div id=blog><header id=header data-behavior=4><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=https://blog.hljin.net/en-us/ aria-label="Go to homepage">Alex King's blog</a></div><a class=header-right-picture href=https://blog.hljin.net/#about aria-label="Open the link: /#about"><img class=header-picture src=https://res.cloudinary.com/core2duoe6420/image/upload/v1643906248/DSC_5117_wviusa.jpg alt="Author's picture"></a></header><nav id=sidebar data-behavior=4><div class=sidebar-container><div class=sidebar-profile><a href=https://blog.hljin.net/#about aria-label="Read more about the author"><img class=sidebar-profile-picture src=https://res.cloudinary.com/core2duoe6420/image/upload/v1643906248/DSC_5117_wviusa.jpg alt="Author's picture"></a><h4 class=sidebar-profile-name>Alex King</h4><h5 class=sidebar-profile-bio>Observing without evaluating is the highest form of human intelligence</h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://blog.hljin.net/en-us/ title=Home><i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden=true></i>
<span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://blog.hljin.net/en-us/categories title=Categories><i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden=true></i>
<span class=sidebar-button-desc>Categories</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://blog.hljin.net/en-us/tags title=Tags><i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden=true></i>
<span class=sidebar-button-desc>Tags</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://blog.hljin.net/en-us/archives title=Archives><i class="sidebar-button-icon fas fa-lg fa-archive" aria-hidden=true></i>
<span class=sidebar-button-desc>Archives</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://blog.hljin.net/en-us/#about title=About><i class="sidebar-button-icon fas fa-lg fa-user" aria-hidden=true></i>
<span class=sidebar-button-desc>About</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/core2duoe6420 target=_blank rel=noopener title=GitHub><i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden=true></i>
<span class=sidebar-button-desc>GitHub</span></a></li></ul><ul class=sidebar-buttons></ul></div></nav><div id=main data-behavior=4 class=hasCoverMetaIn><article class=post id=top><div class="post-header main-content-wrap text-left"><h1 class=post-title>BASH Concepts and Common Syntax</h1><div class="postShorten-meta post-meta"><time datetime=2017-09-30T00:00:00Z>September 30, 2017</time></div></div><div class="post-content markdown"><div class=main-content-wrap><div class="alert warning"><p>This article is translated from Chinese to English by ChatGPT. There might be errors.</p></div><p>This article is a brief summary of the <a href=https://www.gnu.org/software/bash/manual/bash.html>Bash Reference Manual</a>.</p><h1 id=table-of-contents>Table of Contents</h1><nav id=TableOfContents><ul><li><a href=#basic-concepts>Basic Concepts</a></li><li><a href=#basic-syntax>Basic Syntax</a><ul><li><a href=#loops>Loops</a></li><li><a href=#conditionals>Conditionals</a><ul><li><a href=#bash-conditional-expressions-bash-extensions>Bash Conditional Expressions (Bash Extensions)</a></li></ul></li><li><a href=#functions>Functions</a></li><li><a href=#special-parameters>Special Parameters</a></li><li><a href=#expansion>Expansion</a></li><li><a href=#redirection>Redirection</a><ul><li><a href=#redirection-syntax>Redirection Syntax</a></li></ul></li><li><a href=#arrays-and-associative-arrays>Arrays and Associative Arrays</a></li></ul></li><li><a href=#shell-builtins>Shell Builtins</a></li><li><a href=#line-editing>Line Editing</a></li></ul></nav><h1 id=basic-concepts>Basic Concepts</h1><ul><li><code>control operator</code>: used to control methods (to separate commands): <code>newline</code> <code>||</code> <code>&&</code> <code>&</code> <code>;</code> <code>;;</code> <code>;&</code> <code>;;&</code> <code>|</code> <code>|&</code> <code>(</code> <code>)</code></li><li><code>metacharacter</code>: used to separate words (<code>word</code>): <code>|</code> <code>&</code> <code>;</code> <code>(</code> <code>)</code> <code>&lt;</code> <code>></code></li><li>The process Bash follows to execute a command is as follows:<ol><li>Read commands from a file or terminal;</li><li>Split the input into words (<code>word</code>) and operators (<code>operator</code>); quoting rules (<code>Quoting</code>) are applied in this step. Words are separated by <code>metacharacter</code>. Alias expansion is performed at this step;</li><li>Parse tokens (<code>token</code>) into simple (<code>simple</code>) and compound (<code>compound</code>) commands;</li><li>Perform various expansions (<code>expansion</code>) (see below for expansion order), and put the expanded words into commands and arguments;</li><li>Perform necessary redirections (<code>redirection</code>), and remove redirection operators from the argument list;</li><li>Execute the command;</li><li>Optionally wait for the command to complete and obtain the exit status.</li></ol></li><li>Quoting rules:<ul><li><code>\</code> escapes the next character; <code>\newline</code> is treated as line joining. Unless inside single quotes <code>'</code>, the result of the escape will <strong>not</strong> contain a newline (that is, <code>\n</code>);</li><li><code>'</code> quotes all characters appearing inside the quotes;</li><li><code>"</code> quotes all characters except <code>$</code> <code>`</code> <code>\</code> <code>!</code>. <code>$</code> and <code>`</code> retain their full expansion meaning. <code>\</code> only has escaping semantics when followed by <code>$</code> <code>`</code> <code>"</code> <code>\</code> <code>newline</code>; otherwise it is output as a backslash. If history expansion is enabled, <code>!</code> will expand; if <code>!</code> is escaped by <code>\</code>, it will not expand, and the <code>\</code> will not be removed (it still outputs as <code>\!</code>);</li><li>ANSI-C quoting, in the form <code>$'\n'</code>, is interpreted using ANSI C escape semantics, for example:<ul><li><code>\nnn</code>: octal escape (up to 3 digits);</li><li><code>\xHH</code>: hexadecimal escape (up to 2 digits);</li><li><code>\uHHHH</code>: Unicode escape (up to 4 digits);</li><li><code>\UHHHHHHHH</code>: Unicode escape (up to 8 digits);</li><li><code>\cx</code>: <code>control-x</code> escape.</li></ul></li></ul></li><li><code>|</code> and <code>|&</code> form a pipeline. If <code>!</code> is added in front of the pipeline, the final exit code is logically negated, for example <code>! ls</code> (the space cannot be omitted, otherwise it is parsed as history expansion). <code>|&</code> redirects both <code>stdout</code> and <code>stderr</code>;</li><li><code>;</code> <code>&</code> <code>&&</code> <code>||</code> form a list, and the end of the list is marked by <code>;</code> <code>&</code> <code>newline</code>, among which <code>&&</code> <code>||</code> have the highest precedence, followed by <code>;</code> <code>&</code>. Commands marked with <code>&</code> run in the background. If job control is not enabled, the process’s <code>stdin</code> will be redirected to <code>/dev/null</code>;</li><li><code>( list )</code> creates a subshell and then executes the commands; <code>{ list; }</code> executes the commands in the current shell. Note that the space and the <code>;</code> cannot be omitted;</li><li><code>coproc</code> creates a coprocess;</li><li><code>parallel</code> is similar to <code>xargs</code>, but executes commands in parallel;</li></ul><h1 id=basic-syntax>Basic Syntax</h1><p>In the syntax, most <code>;</code> can be replaced by <code>newline</code>.</p><h2 id=loops>Loops</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>until</span> test-commands; <span style=color:#66d9ef>do</span>      <span style=color:#75715e># Loop until test-commands returns 0</span>
</span></span><span style=display:flex><span>	consequent-commands;
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> <span style=color:#75715e># exitcode is the exit code of the last command executed; if no commands are executed, it is 0</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>while</span> test-commands; <span style=color:#66d9ef>do</span>      <span style=color:#75715e># Loop while test-commands does not return 0</span>
</span></span><span style=display:flex><span>	consequent-commands;
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> <span style=color:#75715e># exitcode is the exit code of the last command executed; if no commands are executed, it is 0</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>for</span> name <span style=color:#f92672>[</span> <span style=color:#f92672>[</span>in <span style=color:#f92672>[</span>words …<span style=color:#f92672>]</span> <span style=color:#f92672>]</span> ; <span style=color:#f92672>]</span> <span style=color:#66d9ef>do</span>  <span style=color:#75715e># If the in clause is omitted, it is equivalent to in &#34;$@&#34;</span>
</span></span><span style=display:flex><span>	commands $name; 
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> <span style=color:#75715e># exitcode is the exit code of the last command executed; if no commands are executed, it is 0</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#f92672>((</span> expr1 ; expr2 ; expr3 <span style=color:#f92672>))</span> ; <span style=color:#66d9ef>do</span>  <span style=color:#75715e># This is Bash-specific syntax</span>
</span></span><span style=display:flex><span>	commands; 
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> <span style=color:#75715e># exitcode is the exit code of the last command executed; if any expr is invalid, it returns false</span>
</span></span></code></pre></div><h2 id=conditionals>Conditionals</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>if</span> test-commands; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	consequent-commands;
</span></span><span style=display:flex><span><span style=color:#66d9ef>elif</span> more-test-commands; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	more-consequents;
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	alternate-consequents;
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span> <span style=color:#75715e># exitcode is the exit code of the last command executed; if no condition is true, returns 0</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>case</span> word in 
</span></span><span style=display:flex><span>	pattern1 | pattern2<span style=color:#f92672>)</span> command-list1 ;;  <span style=color:#75715e># If it matches and ends with ;;, return immediately</span>
</span></span><span style=display:flex><span>	pattern3 | pattern4<span style=color:#f92672>)</span> command-list2 ;&amp;  <span style=color:#75715e># If it matches and ends with ;&amp;, continue executing the next command-list</span>
</span></span><span style=display:flex><span>	pattern5 | pattern6<span style=color:#f92672>)</span> command-list3 ;;&amp; <span style=color:#75715e># If it matches and ends with ;;&amp;, continue matching the next item, and execute when matched</span>
</span></span><span style=display:flex><span>	*<span style=color:#f92672>)</span> command-list ;;
</span></span><span style=display:flex><span><span style=color:#66d9ef>esac</span> <span style=color:#75715e># exitcode is the exit code of the command-list executed; if there is no match, returns 0</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>select</span> name <span style=color:#f92672>[</span>in words …<span style=color:#f92672>]</span>; <span style=color:#66d9ef>do</span> <span style=color:#75715e># Construct a menu for the user to choose from</span>
</span></span><span style=display:flex><span>	commands $name $REPLY; <span style=color:#75715e># $REPLY holds the selected index</span>
</span></span><span style=display:flex><span>	break;                 <span style=color:#75715e># break exits the select environment; otherwise select is executed repeatedly</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>((</span> expression <span style=color:#f92672>))</span>  <span style=color:#75715e># Bash arithmetic expression; if the expression is non-zero, exitcode is 0, otherwise exitcode is 1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[[</span> expression <span style=color:#f92672>]]</span>  <span style=color:#75715e># Bash conditional expression</span>
</span></span></code></pre></div><h3 id=bash-conditional-expressions-bash-extensions>Bash Conditional Expressions (Bash Extensions)</h3><p>Unless otherwise specified, files are followed through symbolic links and operations are performed on the target file rather than on the symbolic link itself.</p><table><thead><tr><th>Syntax</th><th>Meaning</th></tr></thead><tbody><tr><td><code>-a file</code></td><td>Return true if the file exists</td></tr><tr><td><code>-b file</code></td><td>Return true if the file exists and is a block device</td></tr><tr><td><code>-c file</code></td><td>Return true if the file exists and is a character device</td></tr><tr><td><code>-d file</code></td><td>Return true if the file exists and is a directory</td></tr><tr><td><code>-e file</code></td><td>Return true if the file exists</td></tr><tr><td><code>-f file</code></td><td>Return true if the file exists and is a regular file</td></tr><tr><td><code>-g file</code></td><td>Return true if the file exists and the set-group-id bit is set</td></tr><tr><td><code>-h file</code></td><td>Return true if the file exists and is a symbolic link</td></tr><tr><td><code>-k file</code></td><td>Return true if the file exists and the sticky bit is set</td></tr><tr><td><code>-p file</code></td><td>Return true if the file exists and is a named pipe (<code>FIFO</code>)</td></tr><tr><td><code>-r file</code></td><td>Return true if the file exists and is readable</td></tr><tr><td><code>-s file</code></td><td>Return true if the file exists and has a size greater than 0</td></tr><tr><td><code>-t fd</code></td><td>Return true if the file descriptor is open and refers to a terminal</td></tr><tr><td><code>-u file</code></td><td>Return true if the file exists and the set-user-id bit is set</td></tr><tr><td><code>-w file</code></td><td>Return true if the file exists and is writable</td></tr><tr><td><code>-x file</code></td><td>Return true if the file exists and is executable</td></tr><tr><td><code>-G file</code></td><td>Return true if the file exists and is owned by the current <code>egid</code></td></tr><tr><td><code>-L file</code></td><td>Return true if the file exists and is a symbolic link</td></tr><tr><td><code>-N file</code></td><td>Return true if the file exists and has been modified since it was last read</td></tr><tr><td><code>-O file</code></td><td>Return true if the file exists and is owned by the current <code>euid</code></td></tr><tr><td><code>-S file</code></td><td>Return true if the file exists and is a <code>socket</code></td></tr><tr><td><code>file1 -ef file2</code></td><td>Return true if <code>file1</code> and <code>file2</code> refer to the same device and inode number</td></tr><tr><td><code>file1 -nt file2</code></td><td>Return true if <code>file1</code> is newer than <code>file2</code> (based on <code>mtime</code>), or if <code>file1</code> exists and <code>file2</code> does not</td></tr><tr><td><code>file1 -ot file2</code></td><td>Return true if <code>file1</code> is older than <code>file2</code> (based on <code>mtime</code>), or if <code>file1</code> does not exist and <code>file2</code> does</td></tr><tr><td><code>-o optname</code></td><td>Return true if the shell option <code>optname</code> is enabled</td></tr><tr><td><code>-v varname</code></td><td>Return true if the variable exists</td></tr><tr><td><code>-R varname</code></td><td>Return true if the variable exists and is a name reference</td></tr><tr><td><code>-z string</code></td><td>Return true if the string length is 0</td></tr><tr><td><code>-n string</code> <code>string</code></td><td>Return true if the string length is not 0</td></tr><tr><td><code>string1 == string2</code> <code>string1 = string2</code></td><td>Return true if the strings are equal. When used within <code>[[</code>, pattern matching is also supported</td></tr><tr><td><code>string1 != string2</code></td><td>Return true if the strings are not equal</td></tr><tr><td><code>string1 &lt; string2</code></td><td>Return true if <code>string1</code> sorts before <code>string2</code> in lexicographical order</td></tr><tr><td><code>string1 > string2</code></td><td>Return true if <code>string1</code> sorts after <code>string2</code> in lexicographical order</td></tr><tr><td><code>arg1 OP arg2</code></td><td><code>OP</code> can be <code>-eq</code> <code>-ne</code> <code>-lt</code> <code>-le</code> <code>-gt</code> <code>-ge</code>, meaning respectively that numeric <code>arg1</code> is equal to, not equal to, less than, less than or equal to, greater than, greater than or equal to <code>arg2</code></td></tr></tbody></table><h2 id=functions>Functions</h2><p>Use <code>local</code> inside functions to define local variables.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>name <span style=color:#f92672>()</span> compound-command <span style=color:#f92672>[</span> redirections <span style=color:#f92672>]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># The command must end with ; &amp; or newline</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> name <span style=color:#f92672>[()]</span> compound-command <span style=color:#f92672>[</span> redirections <span style=color:#f92672>]</span>
</span></span></code></pre></div><h2 id=special-parameters>Special Parameters</h2><table><thead><tr><th>Parameter</th><th>Meaning</th></tr></thead><tbody><tr><td><code>$*</code></td><td>All positional parameters from the first to the last. <code>$*</code> expands to <code>$1 $2 ...</code>, and <code>"$*"</code> expands to <code>$1c$2c...</code>, where <code>c</code> is <code>$IFS$</code></td></tr><tr><td><code>$@</code></td><td>All positional parameters from the first to the last. <code>$@</code> expands to <code>$1 $2 ...</code>, and <code>"$@"</code> expands to <code>"$1" "$2" ...</code>. If there are no parameters, <code>$@</code> is removed</td></tr><tr><td><code>$#</code></td><td>The number of positional parameters</td></tr><tr><td><code>$?</code></td><td>The exit code of the most recently executed <strong>foreground pipeline</strong></td></tr><tr><td><code>$-</code></td><td>The current shell option flags (set via <code>set</code>)</td></tr><tr><td><code>$$</code></td><td>The <code>pid</code> of the current shell; in a subshell, <code>$$</code> expands to the <code>pid</code> of the invoking shell</td></tr><tr><td><code>$!</code></td><td>The <code>pid</code> of the most recently started background job</td></tr><tr><td><code>$0</code></td><td>The name used to invoke the program (questionable)</td></tr><tr><td><code>$_</code></td><td>The last argument of the previous command executed (questionable)</td></tr></tbody></table><h2 id=expansion>Expansion</h2><p>Shell expansions are performed in the following order:</p><ol><li>Brace expansion;</li><li>Tilde expansion, parameter and variable expansion, arithmetic expansion, command substitution, process substitution, from left to right;</li><li>Word splitting;</li><li>Filename expansion (wildcards);</li><li>Quote removal.</li></ol><p>Expansion syntaxes:</p><table><thead><tr><th><div style=width:150px>Expansion type</div></th><th>Syntax</th></tr></thead><tbody><tr><td>Brace expansion</td><td><code>a{b,c,d}e</code> <code>{x..y[..incr]}</code>. Note that there must be no spaces before or after <code>,</code>. <code>x</code> and <code>y</code> can be numbers or single characters</td></tr><tr><td>Tilde expansion</td><td><code>~</code> expands to <code>$HOME</code>, <code>~+</code> to <code>$PWD</code>, <code>~-</code> to <code>$OLDPWD</code>, <code>~N ~+N ~-N</code> expand to <code>`dirs +/-N`</code></td></tr><tr><td>Parameter expansion</td><td><code>${parameter}</code></td></tr><tr><td>Arithmetic expansion</td><td><code>$(( expression ))</code></td></tr><tr><td>Command substitution</td><td><code>$(command)</code> <code>`command`</code>. With the <code>$()</code> syntax, all characters retain their original meaning and none are special; with backticks, <code>$</code> <code>`</code> <code>\</code> are special and can be escaped by <code>\</code></td></tr><tr><td>Process substitution</td><td><code>&lt;(list)</code> <code>>(list)</code>, note that there must be no space between the angle bracket and the parentheses</td></tr><tr><td>Filename expansion</td><td><code>*</code> <code>?</code> <code>[...]</code></td></tr></tbody></table><p>Parameter expansion forms:</p><ul><li><code>${parameter:-word}</code>: If <code>parameter</code> is unset, expand to <code>word</code>; otherwise expand to <code>parameter</code>;</li><li><code>${parameter:=word}</code>: If <code>parameter</code> is unset, assign the value obtained by expanding <code>word</code> to <code>parameter</code>, and then expand it;</li><li><code>${parameter:?word}</code>: If <code>parameter</code> is unset, output the expanded <code>word</code> to <code>stderr</code>; if the shell is non-interactive, exit;</li><li><code>${parameter:+word}</code>: If <code>parameter</code> is unset, substitute nothing; otherwise substitute the expansion of <code>word</code>;</li><li><code>${parameter:offset}</code> <code>${parameter:offset:length}</code>: Take a substring of <code>parameter</code>. When <code>offset</code> and <code>length</code> are negative, they count from the end of the string; when <code>offset</code> is negative, there must be a space between <code>:</code> and <code>-</code>;</li><li><code>${!prefix*}</code> <code>${!prefix@}</code>: Expand the names of variables whose names begin with <code>prefix</code> and join them using <code>$IFS</code>;</li><li><code>${!name[@]}</code> <code>${!name[*]}</code>: If <code>name</code> is an array (or associative array), expand to its indices (or keys). If not, then if <code>name</code> is defined, expand to 0; otherwise to <code>null</code>. If <code>@</code> is used, each key is expanded as a separate <code>"</code>-quoted word;</li><li><code>${#parameter}</code>: Expand to the length of the array;</li><li><code>${parameter#word}</code>: Expand after removing the shortest match of <code>word</code> from the beginning of <code>parameter</code>;</li><li><code>${parameter##word}</code>: Expand after removing the longest match of <code>word</code> from the beginning of <code>parameter</code>;</li><li><code>${parameter%word}</code>: Expand after removing the shortest match of <code>word</code> from the end of <code>parameter</code>;</li><li><code>${parameter%%word}</code>: Expand after removing the longest match of <code>word</code> from the end of <code>parameter</code>;</li><li><code>${parameter/pattern/string}</code>: Expand after replacing the part of <code>parameter</code> that matches <code>pattern</code> with <code>string</code>. <code>pattern</code> can begin with:<ul><li><code>/</code>: replace all matches; by default only the first match is replaced;</li><li><code>#</code>: the match must start at the beginning;</li><li><code>%</code>: the match must include the end.</li></ul></li><li><code>${parameter^pattern}</code> <code>${parameter^^pattern}</code> <code>${parameter,pattern}</code> <code>${parameter,,pattern}</code>: Find parts of <code>parameter</code> matching <code>pattern</code> and change their case. <code>^</code> <code>^^</code> convert lowercase to uppercase; <code>,</code> <code>,,</code> convert uppercase to lowercase. <code>^</code> <code>,</code> convert only once; <code>^^</code> <code>,,</code> convert all matches. If <code>pattern</code> is omitted, it is equivalent to matching the entire content.</li></ul><p>When filename expansion is performed and the <code>extglob</code> option is enabled (via <code>shopt</code>), the following patterns are also supported:</p><ul><li><code>?(pattern-list)</code> matches zero or one occurrence</li><li><code>*(pattern-list)</code> matches zero or more occurrences</li><li><code>+(pattern-list)</code> matches one or more occurrences</li><li><code>@(pattern-list)</code> matches exactly one occurrence</li><li><code>!(pattern-list)</code> matches any string except those that match pattern-list</li></ul><h2 id=redirection>Redirection</h2><p>Bash uses some special files in redirections. If the operating system supports these files, Bash uses the OS-provided files; otherwise Bash simulates them:</p><table><thead><tr><th>File</th><th>Meaning</th></tr></thead><tbody><tr><td><code>/dev/fd/fd</code></td><td>Duplicate <code>fd</code></td></tr><tr><td><code>/dev/stdin</code></td><td>Standard input</td></tr><tr><td><code>/dev/stdout</code></td><td>Standard output</td></tr><tr><td><code>/dev/stderr</code></td><td>Standard error</td></tr><tr><td><code>/dev/tcp/host/port</code></td><td>Redirect to <code>tcp://host:port</code></td></tr><tr><td><code>/dev/udp/host/port</code></td><td>Redirect to <code>udp://host:port</code></td></tr></tbody></table><h3 id=redirection-syntax>Redirection Syntax</h3><table><thead><tr><th><div style=width:250px>Syntax</div></th><th>Meaning</th></tr></thead><tbody><tr><td><code>[n]&lt;word</code></td><td>Redirect input</td></tr><tr><td><code>[n]>[|]word</code></td><td>Redirect output; if <code>|</code> is present, <code>noclobber</code> setting is ignored</td></tr><tr><td><code>[n]>>word</code></td><td>Append output</td></tr><tr><td><code>&>word</code> <code>>&amp;word</code> <code>>word 2>&amp;1</code></td><td>Redirect both <code>stdout</code> and <code>stderr</code></td></tr><tr><td><code>&>>word</code> <code>>>word 2>&amp;1</code></td><td>Append both <code>stdout</code> and <code>stderr</code></td></tr><tr><td><code>[n]&lt;&lt;[-]word<br>    here-document<br> delimiter</code></td><td><code>here document</code>. If <code>word</code> is quoted (enclosed in <code>'</code>), <code>delimiter</code> is the de-quoted <code>word</code>, and no expansion is performed in the here-document. If <code>word</code> is unquoted, parameter and variable expansion, command substitution, and arithmetic expansion are performed inside the here-document; <code>\</code> must be used to escape <code>\</code> <code>$</code> <code>`</code>. If <code>&lt;&lt;-</code> is used, leading tabs in the here-document are removed.</td></tr><tr><td><code>[n]&lt;&lt;&lt; word</code></td><td><code>here string</code>. <code>word</code> undergoes brace expansion, tilde expansion, parameter and variable expansion, command substitution, arithmetic expansion and quote removal; filename expansion and word splitting are not performed. A newline is appended to the result.</td></tr><tr><td><code>[n]&lt;&amp;word</code> <code>[n]>&amp;word</code></td><td>Duplicate a file descriptor. If the descriptor specified by <code>word</code> is not open, an error is reported. If <code>word</code> is <code>-</code>, file descriptor <code>n</code> is closed.</td></tr><tr><td><code>[n]&lt;&amp;digit-</code> <code>[n]>&amp;digit-</code></td><td>Move a file descriptor; that is, duplicate and then close <code>digit</code>.</td></tr><tr><td><code>[n]&lt;>word</code></td><td>Open <code>word</code> as file descriptor <code>n</code> for both reading and writing. If <code>n</code> is omitted, it defaults to 0. If the file does not exist, it is created.</td></tr></tbody></table><h2 id=arrays-and-associative-arrays>Arrays and Associative Arrays</h2><p>Defining arrays:</p><ul><li><code>name[subscript]=value</code></li><li><code>declare -a name</code></li><li><code>name=(value1 value2 ... )</code></li></ul><p>Defining associative arrays:</p><ul><li><code>declare -A name</code></li></ul><p>Referencing elements of arrays or associative arrays:</p><ul><li><code>${name[subscript]}</code></li></ul><h1 id=shell-builtins>Shell Builtins</h1><ul><li>Use <code>help cmd</code> to obtain help for a shell builtin;</li><li>Use <code>type cmd</code> to check whether <code>cmd</code> is a shell builtin;</li><li><code>trap</code>: set a signal handler. Example:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>trap <span style=color:#e6db74>&#34;echo SIGINT&#34;</span> <span style=color:#ae81ff>2</span>    <span style=color:#75715e># Set a handler for SIGINT</span>
</span></span><span style=display:flex><span>trap - <span style=color:#ae81ff>2</span>                <span style=color:#75715e># Clear the handler</span>
</span></span></code></pre></div><h1 id=line-editing>Line Editing</h1><p>Bash uses <code>readline</code> for line editing. <code>readline</code> attempts to read the configuration file specified by the shell variable <code>INPUTRC</code>; if the variable does not exist, it reads <code>~/.inputrc</code>; if that file does not exist, it reads <code>/etc/inputrc</code>.</p><p>Use <code>bind -P</code> to list all current key bindings and their functions, where</p><ul><li><code>\C-x</code> means <code>ctrl-x</code>;</li><li><code>\M-x</code> means <code>Meta-x</code>, usually the <code>alt</code> key;</li><li><code>\C-\M-x</code> means press <code>ctrl</code> and <code>alt</code> simultaneously;</li><li><code>\ex</code> means <code>Esc-x</code>.</li></ul><p>Use <code>bind -V</code> to list the current settings. For example, <code>bind "set completion-disabled on"</code> disables automatic completion.</p></div></div><div id=post-footer class="post-footer main-content-wrap"><div class=post-footer-tags><span class="text-color-light text-small">TAGGED IN</span><br><a class="tag tag--primary tag--small" href=https://blog.hljin.net/en-us/tags/shell/>Shell</a></div><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://blog.hljin.net/en-us/2020/02/docker-dns-troubleshooting/ data-tooltip="A Docker DNS Troubleshooting Story" aria-label="NEXT: A Docker DNS Troubleshooting Story"><i class="fa fa-angle-left"></i>
<span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://blog.hljin.net/en-us/2016/06/effective-modern-cpp-excerpt/ data-tooltip="Effective Modern C++ Study Notes" aria-label="PREVIOUS: Effective Modern C++ Study Notes"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#gitalk aria-label="Leave a comment"><i class="fa fa-comment"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div><div id=gitalk><noscript>Please enable JavaScript to view the comments powered by Gitalk.</noscript></div><script src=https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.min.js integrity="sha512-EcTCcXV46teiNwe0VcnM5A038tcY+BaQYO4nW6Gh2i7v4/HjBVg7xx3+JBLl9WofDds//INJAiEGAtdgr8PWyA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script type=text/javascript>(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("gitalk").innerHTML="Gitalk comments not available by default when the website is previewed locally.";return}new Gitalk({clientID:"2d9c9d837f8496107211",clientSecret:"5a474517d0eb6d5abdb90ab9a31c2ba94f4f43b2",repo:"core2duoe6420.github.io",owner:"core2duoe6420",admin:["core2duoe6420"],id:"2b7e453505c477489eb1d9edde5220db",...{distractionfreemode:!1,enablehotkey:!0,language:"zh-CN",pagerdirection:"first",perpage:10}}).render("gitalk")})()</script></div></article><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2025 Powered by Hugo with tranquilpeak. All Rights Reserved</span></footer></div><div id=bottom-bar class=post-bottom-bar data-behavior=4><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://blog.hljin.net/en-us/2020/02/docker-dns-troubleshooting/ data-tooltip="A Docker DNS Troubleshooting Story" aria-label="NEXT: A Docker DNS Troubleshooting Story"><i class="fa fa-angle-left"></i>
<span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://blog.hljin.net/en-us/2016/06/effective-modern-cpp-excerpt/ data-tooltip="Effective Modern C++ Study Notes" aria-label="PREVIOUS: Effective Modern C++ Study Notes"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#gitalk aria-label="Leave a comment"><i class="fa fa-comment"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-times"></i></div><img id=about-card-picture src=https://res.cloudinary.com/core2duoe6420/image/upload/v1643906248/DSC_5117_wviusa.jpg alt="Author's picture"><h4 id=about-card-name>Alex King</h4><div id=about-card-bio>Observing without evaluating is the highest form of human intelligence</div><div id=about-card-job><i class="fa fa-briefcase"></i><br>Human</div><div id=about-card-location><i class="fa fa-map-marker-alt"></i><br>Shanghai</div></div></div><div id=cover style=background-image:url(https://res.cloudinary.com/core2duoe6420/image/upload/v1643905455/20220204002352_yqvhwd.jpg)></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://blog.hljin.net/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-gE8KAQyFIzV1C9+GZ8TKJHZS2s+n7EjNtC+IMRn1l5+WYJTHOODUM6JSjZhFhqXmc7bG8Av6XXpckA4tYhflnw==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-EWROca+bote+7Oaaar1F6y74iZj1r1F9rm/ly7o+/FwJopbBaWtsFDmaKoZDd3QiGU2pGacBirHJNivmGLYrow==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/go.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-GDVzAn0wpx1yVtQsRWmFc6PhJiLBPdUic+h4GWgljBh904O3JU10fk9EKNpVyIoPqkFn54rgL2QBG4BmUTMpiQ==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/http.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-UgZlma8NzkrDb/NWgmLIcTrH7i/CSnLLDRFqCSNF5NGPpjKmzyM25qcoXGOup8+cDakKyaiTDd7N4dyH4YT+IA==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/less.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-lot9koe73sfXIrUvIPM/UEhuMciN56RPyBdOyZgfO53P2lkWyyXN7J+njcxIIBRV+nVDQeiWtiXg+bLAJZDTfg==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-Zd3e7XxHP00TD0Imr0PIfeM0fl0v95kMWuhyAS3Wn1UTSXTkz0OhtRgBAr4JlmADRgiXr4x7lpeUdqaGN8xIog==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/puppet.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-qtqDO052iXMSP+5d/aE/jMtL9vIIGvONgTJziC2K/ZIB1yEGa55WVxGE9/08rSQ62EoDifS9SWVGZ7ihSLhzMA==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/scss.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-1NmkjnEDnwwwcu28KoQF8vs3oaPFokQHbmbtwGhFfeDsQZtVFI8zW2aE9O8yMYdpdyKV/5blE4pSWw4Z/Sv97w==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/stylus.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-B2wSfruPjr8EJL6IIzQr1eAuDwrsfIfccNf/LCEdxELCgC/S/ZMt/Uvk80aD79m7IqOqW+Sw8nbkvha20yZpzg==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/swift.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-28oDiQZGKUVN6wQ7PSLPNipOcmkCALXKwOi7bnkyFf8QiMZQxG9EQoy/iiNx6Zxj2cG2SbVa4dXKigQhu7GiFw==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/yaml.min.js></script>
<script async crossorigin=anonymous defer src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>
<script>$(document).ready(function(){hljs.configure({classPrefix:"",useBR:!1}),$("pre.code-highlight > code, pre > code").each(function(e,t){$(this).hasClass("codeblock")||$(this).addClass("codeblock"),hljs.highlightBlock(t)})})</script></body></html>